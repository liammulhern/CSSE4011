#–– Core / Stacks ––
CONFIG_INIT_STACKS=y

#–– Networking Core ––
CONFIG_NETWORKING=y
CONFIG_NET_MGMT=y
CONFIG_NET_MGMT_EVENT=y
CONFIG_NET_MGMT_EVENT_INFO=y
CONFIG_NET_CONFIG_AUTO_INIT=y
CONFIG_NET_CONFIG_SETTINGS=y
CONFIG_NET_CONFIG_INIT_TIMEOUT=1

#–– Wi-Fi ––
CONFIG_WIFI=y
CONFIG_WIFI_ESP32=y
CONFIG_NET_L2_WIFI_MGMT=y

#–– IP Protocols ––
CONFIG_NET_IPV4=y
CONFIG_NET_IPV6=y
CONFIG_NET_ARP=y

#–– DHCP ––
CONFIG_NET_DHCPV4=y            # DHCP client (not strictly needed for AP)
CONFIG_NET_DHCPV4_SERVER=y     # ESP32 will hand out addresses

#–– Sockets & POSIX API ––
CONFIG_NET_TCP=y
CONFIG_NET_SOCKETS=y
CONFIG_POSIX_API=y

#–– DNS Resolver ––
CONFIG_DNS_RESOLVER=y
CONFIG_DNS_RESOLVER_AI_MAX_ENTRIES=10

#–– Network Buffers & Contexts ––
CONFIG_NET_TX_STACK_SIZE=1024
CONFIG_NET_RX_STACK_SIZE=2048
CONFIG_NET_PKT_RX_COUNT=16
CONFIG_NET_PKT_TX_COUNT=16
CONFIG_NET_BUF_RX_COUNT=16
CONFIG_NET_BUF_TX_COUNT=16
CONFIG_NET_BUF_DATA_SIZE=256
CONFIG_NET_MAX_CONTEXTS=10

#–– Shell & Monitoring ––
CONFIG_NET_SHELL=n
CONFIG_NET_BUF_POOL_USAGE=n

CONFIG_BT=y
CONFIG_BT_CENTRAL=y            # Central role support
CONFIG_BT_PERIPHERAL=n         # Disable peripheral role if not needed

CONFIG_BT_GATT_CLIENT=y        # Enable GATT client APIs (discovery, read)

CONFIG_BT_MAX_CONN=4
CONFIG_BT_MAX_PAIRED=4

# Enable logging (optional but recommended for printk output)
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_MODE_DEFERRED=n
CONFIG_LOG_BUFFER_SIZE=1024
CONFIG_LOG_BACKEND_UART=y
CONFIG_PRINTK=y

# Kernel essentials (default usually sufficient)
CONFIG_MAIN_STACK_SIZE=4096
# CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

CONFIG_BT_BUF_ACL_RX_SIZE=200
CONFIG_BT_BUF_ACL_TX_SIZE=200

CONFIG_BT_L2CAP_TX_MTU=71

# # enable floating point suppport
CONFIG_CBPRINTF_FP_SUPPORT=y

CONFIG_UUID=y
CONFIG_UUID_V4=y

# # Enable Zephyr shell
# CONFIG_SHELL=y
# # Stop logs being backended automatically through shell
# CONFIG_SHELL_LOG_BACKEND=n

# ESP specific
CONFIG_BT_L2CAP_TX_BUF_COUNT=12
CONFIG_BT_CONN_TX_MAX=12

CONFIG_BT_SMP=y